<!DOCTYPE html>
<html lang="ru" class="hidden">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="author" content="Dmitriy Bozhko / DIGIKRASH" />

    <!-- Favicon -->
    <link rel="icon" href="./favicon.png" type="image/png">

    <!-- Styles -->
    <link rel="stylesheet" href="./css/style-min.css">

    <style>

    </style>

    <!-- Preload -->
    <script>
        window.onload = function () {
            document.body.classList.add('loading');
            window.setTimeout(function () {
                document.body.classList.add('loaded');
                document.body.classList.remove('loading');
                document.documentElement.classList.remove('loading');
            }, 500);
            window.setTimeout(function () {
                document.body.classList.remove('hidden');
                document.documentElement.classList.remove('hidden');
            }, 5000);
        }
    </script>

</head>

<body class="contact hidden" data-barba="wrapper" data-scroll-container>

    @@include('./blocks/_preloader-page.html')

    <!-- barba loadind screen  -->
    @@include('./blocks/main/_barba-loading.html')

    <!-- header -->
    @@include('./blocks/main/_header.html')


    <main data-barba="container" data-barba-namespace="contact">

        @@include('./blocks/main/_menu.html', {
        "home": "",
        "about": "",
        "works": "",
        "contact": "active",
        })

        <!-- contact-form
        ======================================================= -->
        <section class="contact-form" data-scroll-section>
            <div class="container">
                <div class="contact-form__inner">
                    <div class="contact-form__titel" data-scroll>
                        <h2 class="contact-form__title">
                            <span>Связаться</span>
                            <span>со мной</span>
                        </h2>
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="contact__pattern">
                            <defs>
                                <filter id="goo">
                                    <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
                                    <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
                                    <feBlend in2="goo" in="SourceGraphic" result="mix" />
                                </filter>
                                <linearGradient id="MyGradient">
                                    <stop offset="5%" stop-color="#40204c" />
                                    <stop offset="40%" stop-color="#a3225c" />
                                    <stop offset="100%" stop-color="#e24926" />
                                </linearGradient>
                            </defs>
                            <mask id="maska">
                                <g class="blobs">
                                    <circle class="blob" cx="440" cy="250" r="30" transform="rotate(0) translate(0, 0) rotate(0)" />
                                    <circle class="blob" cx="500" cy="320" r="70" transform="rotate(0) translate(0, 0) rotate(0)" />
                                    <circle class="blob" cx="300" cy="390" r="40" transform="rotate(0) translate(0, 0) rotate(0)" />
                                    <circle class="blob" cx="380" cy="390" r="80" transform="rotate(0) translate(0, 0) rotate(0)" />
                                    <circle class="blob" cx="470" cy="450" r="20" transform="rotate(0) translate(0, 0) rotate(0)" />
                                </g>
                            </mask>
                            <rect x="200" y="200" mask="url(#maska)" fill="url(#MyGradient)" width="400" height="400">
                        </svg>
                    </div>
                    <div class="contact-form__content" data-scroll>
                        <form id="contact__form" class="contact__form">
                            <div class="contact__form-inputs">
                                <div class="contact__form-input input-block">
                                    <input type="text" id="contact__form-name" name="contact__form-name" class="input" placeholder="Имя:">
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                                <div class="contact__form-input input-block">
                                    <input type="text" id="contact__form-email" name="contact__form-email" class="input" placeholder="Email:">
                                    <span class="focus-border">
                                        <i></i>
                                    </span>
                                </div>
                            </div>
                            <div class="contact__form-message input-block">
                                <textarea name="contact__form-message" id="contact__form-message" class="input" placeholder="Сообщение:"></textarea>
                                <span class="focus-border">
                                    <i></i>
                                </span>
                            </div>
                            <button type="submit" class="glitch-btn contact__form-button" id="contact__form-button" data-hover="Send">
                                <span class="static">Send</span>
                                <span class="loading">
                                    <i></i>
                                    <i></i>
                                    <i></i>
                                </span>
                                <span class="loaded">
                                    <svg width="20" height="20" class="check">
                                        <use xlink:href="./img/icons/icons.svg#check" />
                                    </svg>
                                </span>
                            </button>


                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- contact-form end -->


        <!-- contact-info
        ======================================================= -->
        <section class="contact-info" data-scroll-section>
            <div class="container">
                <div class="contact-info__inner">
                    <div class="contact-info__lists">
                        <ul class="contact-info__list contact-info__list1" data-scroll>
                            <h5 class="contact-info__list-title">Social</h5>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="Telegram">Telegram</a>
                            </li>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="vk">Vk</a>
                            </li>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="Facebook">Facebook</a>
                            </li>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="Email">Email</a>
                            </li>
                        </ul>
                        <ul class="contact-info__list" data-scroll>
                            <h5 class="contact-info__list-title">Another</h5>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="Github">Github</a>
                            </li>
                            <li class="contact-info__list-item">
                                <a href="#" data-hover="Codepen">Codepen</a>
                            </li>
                        </ul>
                    </div>
                    <a href="#" class="button contact-info__btn" data-scroll>Old Version</a>
                </div>
                <div class="contact-info__after">
                    <a href="index.html" class="logo contact-info__logo" data-scroll>
                        <p><span>D</span>mitriy</p>
                        <p><span>B</span>ozhko</p>
                    </a>
                    <p class="contact-info__text" data-scroll>Lorem ipsum dolor sit amet consectetur adipisicing elit. Distinctio consequuntur aliquam explicabo dolorem. Hic, autem!</p>
                </div>
            </div>
        </section>
        <!-- contact-info end -->


        @@include('./blocks/main/_footer.html')

    </main>



    <!-- Global Scripts -->
    @@include('./blocks/main/_js.html')

    <!-- Libraries -->
    <script src="./locomotive-scroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>

    <!-- тестовый submit effect при клике -->
    <script>
        $('.contact__form-button').click(function () {
            $(this).addClass('loading1');
            setTimeout(() => {
                $(this).removeClass('loading1');
                $(this).addClass('loaded1');
                setTimeout(() => {
                    $(this).removeClass('loaded1');
                }, 1500);
            }, 2500);
        });
    </script>
    <!-- Добавление класса при фокусе у input -->
    <script>
        $('.contact__form-button').mouseenter(function () {
            $('.error').css("transition-delay", "0.1s");
            $('.error').css("opacity", 1);
        });
        $('.contact__form-button').mouseleave(function () {
            $('.error').css("transition-delay", "0.7s");
            $('.error').css("opacity", 0);
        });
    </script>
    <!-- preloader -->
    <script>
        $(document).ready(function () {
            const LANDING = {};
            LANDING.intro = document.querySelector(".preloader-page");
            LANDING.path = LANDING.intro.querySelector("path");

            const svgAnimation = () => {
                console.log("Animation");

                anime({
                    targets: LANDING.intro,
                    duration: 2000,
                    easing: "easeInOutSine",
                    translateY: "-200vh"
                });

                anime({
                    targets: LANDING.path,
                    duration: 1500,
                    easing: "easeInOutSine",
                    d: LANDING.path.getAttribute("pathdata:id")
                });
            };
            svgAnimation();
        })
    </script>
    <!-- Locomotive Scroll -->
    <script>
        // --- Locomotive Scroll (Smoth)
        const scroll = new LocomotiveScroll({
            el: document.querySelector('[data-scroll-container]'),
            smooth: true,
            smoothMobile: true,
        });
        scroll.destroy();
        document.addEventListener("DOMContentLoaded", function (event) {
            window.setTimeout(function () {
                scroll.init();
            }, 700);
        });

        var a = {
            0: function () {
                scroll.stop();
            },

            1: function () {
                scroll.start();
            }
        }, b = -1;

        $('.menu-diamond').click(function () {
            a[++b % 2]()
        })
    </script>
    <!-- blob animation -->
    <script>
        var radius = 8;
        TweenMax.staggerFromTo('.blob', 4, {
            cycle: {
                attr: function (i) {
                    var r = i * 90;
                    return {
                        transform: 'rotate(' + r + ') translate(' + radius + ',0.1) rotate(' + (-r) + ')'
                    }
                }
            },
        }, {
            cycle: {
                attr: function (i) {
                    var r = i * 90 + 360;
                    return {
                        transform: 'rotate(' + r + ') translate(' + radius + ',0.1) rotate(' + (-r) + ')'
                    }
                }
            },
            ease: Linear.easeNone,
            repeat: -1
        });
    </script>
    <!-- check validation form -->
    <script>
        // --- Проверка валидации формы
        $(document).ready(function () {
            $('#contact__form').submit(function (e) {
                e.preventDefault();

                var name = $('#contact__form-name').val();
                var email = $('#contact__form-email').val();
                var message = $('#contact__form-message').val();

                $(".error").remove();
                $(".input-block").removeClass('input-error');

                setTimeout(function () {
                    $('.error').remove();
                    $(".input-block").removeClass('input-error');
                }, 10000);

                var errorForm = false;

                if (name.length < 1) {
                    $('#contact__form-name').parent().addClass('input-error');
                    errorForm = true;
                    if ($("html").attr("lang") === 'ru') {
                        $('#contact__form-name').after('<span class="error">Заполните поле</span>');
                    } else {
                        $('#contact__form-name').after('<span class="error">Fill in the field</span>');
                    }
                }

                if (email.length < 1) {
                    $('#contact__form-email').parent().addClass('input-error');
                    errorForm = true;
                    if ($("html").attr("lang") === 'ru') {
                        $('#contact__form-email').after('<span class="error">Заполните поле</span>');
                    } else {
                        $('#contact__form-email').after('<span class="error">Fill in the field</span>');
                    }
                } else {
                    var regEx = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    var validEmail = regEx.test(email);
                    if (!validEmail) {
                        $('#contact__form-email').parent().addClass('input-error');
                        errorForm = true;
                        if ($("html").attr("lang") === 'ru') {
                            $('#contact__form-email').after('<span class="error">Заполните правильно</span>');
                        } else {
                            $('#contact__form-email').after('<span class="error">Fill in correctly</span>');
                        }
                    }
                }

                if (message.length < 1) {
                    $('#contact__form-message').parent().addClass('input-error');
                    errorForm = true;
                    if ($("html").attr("lang") === 'ru') {
                        $('#contact__form-message').after('<span class="error">Заполните поле</span>');
                    } else {
                        $('#contact__form-message').after('<span class="error">Fill in the field</span>');
                    }
                }

                if (errorForm = true) {
                    $('#contact__form-button').addClass('btn-error')
                }
            });
        });
    </script>
</body>

</html>